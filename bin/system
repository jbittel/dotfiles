#!/usr/bin/env bash
#
# Invoke system-level actions.
#
set -o errexit
set -o nounset
set -o pipefail

lock() {
    swaylock -f -c 556873
}

usage() {
    echo "Usage: $0 {lock|suspend|reboot|shutdown}"
}

if [[ $# -ne 1 ]]; then
    usage
    exit 1
fi

case "$1" in
    lock)
        lock
        ;;
    suspend)
        lock && systemctl suspend
        ;;
    reboot)
        systemctl reboot
        ;;
    shutdown)
        systemctl poweroff
        ;;
    *)
        usage
        exit 1
esac

exit 0
